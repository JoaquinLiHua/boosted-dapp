{"version":3,"sources":["../../src/popover.tsx"],"names":["CloseButton","chakra","omitThemingProps","StylesProvider","useMultiStyleConfig","useStyles","forwardRef","createContext","cx","runIfFn","__DEV__","React","Children","cloneElement","useEffect","usePopover","PopoverProvider","usePopoverContext","name","errorMessage","Popover","props","styles","children","rest","context","isOpen","onClose","displayName","PopoverTrigger","child","only","getTriggerProps","ref","PopoverContent","getPopoverProps","popoverProps","contentStyles","position","display","flexDirection","content","PopoverHeader","headerId","setHasHeader","on","off","className","header","PopoverBody","bodyId","setHasBody","body","PopoverFooter","footer","PopoverCloseButton","PopoverArrow","getArrowProps","arrowProps","arrowStyles","bg","arrow"],"mappings":"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","sourcesContent":["import { CloseButton, CloseButtonProps } from \"@chakra-ui/close-button\"\nimport {\n  chakra,\n  omitThemingProps,\n  PropsOf,\n  StylesProvider,\n  ThemingProps,\n  useMultiStyleConfig,\n  useStyles,\n  forwardRef,\n} from \"@chakra-ui/system\"\nimport {\n  createContext,\n  cx,\n  ReactNodeOrRenderProp,\n  runIfFn,\n  __DEV__,\n} from \"@chakra-ui/utils\"\nimport React, { Children, cloneElement, useEffect } from \"react\"\nimport { usePopover, UsePopoverProps, UsePopoverReturn } from \"./use-popover\"\n\nconst [PopoverProvider, usePopoverContext] = createContext<UsePopoverReturn>({\n  name: \"PopoverContext\",\n  errorMessage:\n    \"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`\",\n})\n\nexport { usePopoverContext }\n\nexport interface PopoverProps extends UsePopoverProps, ThemingProps {\n  /**\n   * The content of the popover. It's usually the `PopoverTrigger`,\n   * and `PopoverContent`\n   */\n  children?: ReactNodeOrRenderProp<{\n    isOpen: boolean\n    onClose(): void\n  }>\n}\n\n/**\n * Popover is used to bring attention to specific user interface elements,\n * typically to suggest an action or to guide users through a new experience.\n */\nexport const Popover: React.FC<PopoverProps> = (props) => {\n  const styles = useMultiStyleConfig(\"Popover\", props)\n\n  const { children, ...rest } = omitThemingProps(props)\n  const context = usePopover(rest)\n\n  return (\n    <PopoverProvider value={context}>\n      <StylesProvider value={styles}>\n        {runIfFn(children, {\n          isOpen: context.isOpen,\n          onClose: context.onClose,\n        })}\n      </StylesProvider>\n    </PopoverProvider>\n  )\n}\n\nif (__DEV__) {\n  Popover.displayName = \"Popover\"\n}\n\n/**\n * PopoverTrigger opens the popover's content. It must be an interactive element\n * such as `button` or `a`.\n */\nexport const PopoverTrigger: React.FC = (props) => {\n  // enforce a single child\n  const child: any = Children.only(props.children)\n  const { getTriggerProps } = usePopoverContext()\n  return cloneElement(child, getTriggerProps(child.props, child.ref))\n}\n\nif (__DEV__) {\n  PopoverTrigger.displayName = \"PopoverTrigger\"\n}\n\nexport interface PopoverContentProps extends PropsOf<typeof chakra.section> {}\n\n/**\n * PopoverContent includes all accessibility\n * requirements for a popover\n */\nexport const PopoverContent = forwardRef<PopoverContentProps, \"section\">(\n  function PopoverContent(props, ref) {\n    const { getPopoverProps } = usePopoverContext()\n    const popoverProps = getPopoverProps(props, ref)\n\n    const styles = useStyles()\n    const contentStyles = {\n      position: \"relative\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      ...styles.content,\n    }\n\n    return (\n      <chakra.section\n        className={cx(\"chakra-popover__content\")}\n        {...popoverProps}\n        __css={contentStyles}\n      />\n    )\n  },\n)\n\nif (__DEV__) {\n  PopoverContent.displayName = \"PopoverContent\"\n}\n\nexport interface PopoverHeaderProps extends PropsOf<typeof chakra.header> {}\n\n/**\n * PopoverHeader is the accessible header or label\n * for the popover's content and it's first announced by screenreaders.\n */\nexport const PopoverHeader = forwardRef<PopoverHeaderProps, \"header\">(\n  function PopoverHeader(props, ref) {\n    const { headerId, setHasHeader } = usePopoverContext()\n\n    useEffect(() => {\n      setHasHeader.on()\n      return () => setHasHeader.off()\n    }, [setHasHeader])\n\n    const styles = useStyles()\n\n    return (\n      <chakra.header\n        {...props}\n        className={cx(\"chakra-popover__header\", props.className)}\n        id={headerId}\n        ref={ref}\n        __css={styles.header}\n      />\n    )\n  },\n)\n\nif (__DEV__) {\n  PopoverHeader.displayName = \"PopoverHeader\"\n}\n\nexport interface PopoverBodyProps extends PropsOf<typeof chakra.div> {}\n\n/**\n * PopoverBody is the main content area for the popover. Should contain\n * at least one interactive element.\n */\nexport const PopoverBody = forwardRef<PopoverBodyProps, \"div\">(\n  function PopoverBody(props, ref) {\n    const { bodyId, setHasBody } = usePopoverContext()\n\n    useEffect(() => {\n      setHasBody.on()\n      return () => setHasBody.off()\n    }, [setHasBody])\n\n    const styles = useStyles()\n\n    return (\n      <chakra.div\n        {...props}\n        className={cx(\"chakra-popover__body\", props.className)}\n        id={bodyId}\n        ref={ref}\n        __css={styles.body}\n      />\n    )\n  },\n)\n\nif (__DEV__) {\n  PopoverBody.displayName = \"PopoverBody\"\n}\nexport interface PopoverFooterProps extends PropsOf<typeof chakra.footer> {}\n\nexport const PopoverFooter: React.FC<PopoverFooterProps> = (props) => {\n  const styles = useStyles()\n  return (\n    <chakra.footer\n      {...props}\n      className={cx(\"chakra-popover__footer\", props.className)}\n      __css={styles.footer}\n    />\n  )\n}\n\nif (__DEV__) {\n  PopoverFooter.displayName = \"PopoverFooter\"\n}\n\nexport type PopoverCloseButtonProps = CloseButtonProps\n\nexport const PopoverCloseButton: React.FC<CloseButtonProps> = (props) => {\n  const { onClose } = usePopoverContext()\n  return (\n    <CloseButton\n      size=\"sm\"\n      onClick={onClose}\n      position=\"absolute\"\n      borderRadius=\"md\"\n      top=\"0.25rem\"\n      right=\"0.5rem\"\n      padding=\"0.5rem\"\n      {...props}\n    />\n  )\n}\n\nif (__DEV__) {\n  PopoverCloseButton.displayName = \"PopoverCloseButton\"\n}\n\nexport interface PopoverArrowProps extends PropsOf<typeof chakra.div> {}\n\nexport const PopoverArrow: React.FC<PopoverArrowProps> = (props) => {\n  const { getArrowProps } = usePopoverContext()\n  const arrowProps = getArrowProps(props)\n\n  const styles = useStyles()\n  const arrowStyles = {\n    bg: \"inherit\",\n    ...styles.arrow,\n  }\n\n  return (\n    <chakra.div\n      {...arrowProps}\n      className={cx(\"chakra-popover__arrow\", props.className)}\n      __css={arrowStyles}\n    />\n  )\n}\n\nif (__DEV__) {\n  PopoverArrow.displayName = \"PopoverArrow\"\n}\n"],"file":"popover.js"}