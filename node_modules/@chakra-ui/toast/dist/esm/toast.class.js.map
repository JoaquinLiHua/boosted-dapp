{"version":3,"sources":["../../src/toast.class.tsx"],"names":["isBrowser","React","render","ToastManager","portalId","Toaster","constructor","methods","createToast","notify","removeAll","closeAll","closeToast","close","updateToast","update","isToastActive","isActive","message","options","id","window","scrollBy","top","portal","existingPortal","document","getElementById","div","createElement","body","appendChild","bindFunctions","toast"],"mappings":";;AAAA,SAASA,SAAT,QAA0B,kBAA1B;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,SAAkBC,YAAlB,QAAsC,iBAAtC;AAGA,IAAMC,QAAQ,GAAG,qBAAjB;;AAEA,MAAMC,OAAN,CAAc;AAOZ;;;;;;;;;AASAC,EAAAA,WAAW,GAAG;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,2CAkBWC,OAAD,IAAsB;AAC5C,WAAKC,WAAL,GAAmBD,OAAO,CAACE,MAA3B;AACA,WAAKC,SAAL,GAAiBH,OAAO,CAACI,QAAzB;AACA,WAAKC,UAAL,GAAkBL,OAAO,CAACM,KAA1B;AACA,WAAKC,WAAL,GAAmBP,OAAO,CAACQ,MAA3B;AACA,WAAKC,aAAL,GAAqBT,OAAO,CAACU,QAA7B;AACD,KAxBa;;AAAA,oCA0BL,UAACC,OAAD,EAAwBC,OAAxB,EAAgE;AAAA,UAAxCA,OAAwC;AAAxCA,QAAAA,OAAwC,GAAP,EAAO;AAAA;;AACvE,aAAO,KAAI,CAACX,WAAZ,oBAAO,KAAI,CAACA,WAAL,CAAmBU,OAAnB,EAA4BC,OAA5B,CAAP;AACD,KA5Ba;;AAAA,mCA8BLC,EAAD,IAAiB;AAAA;;AACvB,+BAAKR,UAAL,iDAAkBQ,EAAlB;AACD,KAhCa;;AAAA,sCAkCH,MAAM;AAAA;;AACf,8BAAKV,SAAL;AACD,KApCa;;AAAA,oCAsCL,UAACU,EAAD,EAAcD,OAAd,EAAsD;AAAA,UAAxCA,OAAwC;AAAxCA,QAAAA,OAAwC,GAAP,EAAO;AAAA;;AAC7D,MAAA,KAAI,CAACL,WAAL,oBAAA,KAAI,CAACA,WAAL,CAAmBM,EAAnB,EAAuBD,OAAvB;AACAE,MAAAA,MAAM,CAACC,QAAP,CAAgB;AAAEC,QAAAA,GAAG,EAAE;AAAP,OAAhB;AACAF,MAAAA,MAAM,CAACC,QAAP,CAAgB;AAAEC,QAAAA,GAAG,EAAE,CAAC;AAAR,OAAhB;AACD,KA1Ca;;AAAA,sCA4CFH,EAAD,IAAiB;AAAA;;AAC1B,oCAAO,KAAKJ,aAAZ,qBAAO,+BAAqBI,EAArB,CAAP;AACD,KA9Ca;;AACZ,QAAI,CAACpB,SAAL,EAAgB;AAEhB,QAAIwB,MAAJ;AACA,QAAMC,cAAc,GAAGC,QAAQ,CAACC,cAAT,CAAwBvB,QAAxB,CAAvB;;AAEA,QAAIqB,cAAJ,EAAoB;AAClBD,MAAAA,MAAM,GAAGC,cAAT;AACD,KAFD,MAEO;AAAA;;AACL,UAAMG,GAAG,GAAGF,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAZ;AACAD,MAAAA,GAAG,CAACR,EAAJ,GAAShB,QAAT;AACA,wBAAAsB,QAAQ,CAACI,IAAT,oCAAeC,WAAf,CAA2BH,GAA3B;AACAJ,MAAAA,MAAM,GAAGI,GAAT;AACD;;AAED1B,IAAAA,MAAM,eAAC,oBAAC,YAAD;AAAc,MAAA,MAAM,EAAE,KAAK8B;AAA3B,MAAD,EAA+CR,MAA/C,CAAN;AACD;;AAhCW;;AAiEd,OAAO,IAAMS,KAAK,GAAG,IAAI5B,OAAJ,EAAd","sourcesContent":["import { isBrowser } from \"@chakra-ui/utils\"\nimport * as React from \"react\"\nimport { render } from \"react-dom\"\nimport { Methods, ToastManager } from \"./toast-manager\"\nimport { ToastId, ToastMessage, ToastOptions } from \"./toast.types\"\n\nconst portalId = \"chakra-toast-portal\"\n\nclass Toaster {\n  private createToast?: Methods[\"notify\"]\n  private removeAll?: Methods[\"closeAll\"]\n  private closeToast?: Methods[\"close\"]\n  private updateToast?: Methods[\"update\"]\n  private isToastActive?: Methods[\"isActive\"]\n\n  /**\n   * Initialize the manager and mount it in the DOM\n   * inside the portal node.\n   *\n   * @todo\n   *\n   * Update toast constructor to use `PortalManager`'s node or document.body.\n   * Once done, we can remove the `zIndex` in `toast.manager.tsx`\n   */\n  constructor() {\n    if (!isBrowser) return\n\n    let portal: HTMLElement\n    const existingPortal = document.getElementById(portalId)\n\n    if (existingPortal) {\n      portal = existingPortal\n    } else {\n      const div = document.createElement(\"div\")\n      div.id = portalId\n      document.body?.appendChild(div)\n      portal = div\n    }\n\n    render(<ToastManager notify={this.bindFunctions} />, portal)\n  }\n\n  private bindFunctions = (methods: Methods) => {\n    this.createToast = methods.notify\n    this.removeAll = methods.closeAll\n    this.closeToast = methods.close\n    this.updateToast = methods.update\n    this.isToastActive = methods.isActive\n  }\n\n  notify = (message: ToastMessage, options: Partial<ToastOptions> = {}) => {\n    return this.createToast?.(message, options)\n  }\n\n  close = (id: ToastId) => {\n    this.closeToast?.(id)\n  }\n\n  closeAll = () => {\n    this.removeAll?.()\n  }\n\n  update = (id: ToastId, options: Partial<ToastOptions> = {}) => {\n    this.updateToast?.(id, options)\n    window.scrollBy({ top: 10 })\n    window.scrollBy({ top: -10 })\n  }\n\n  isActive = (id: ToastId) => {\n    return this.isToastActive?.(id)\n  }\n}\n\nexport const toast = new Toaster()\n"],"file":"toast.class.js"}