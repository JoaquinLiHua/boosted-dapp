{"version":3,"sources":["../../src/modal.tsx"],"names":["Modal","props","getContainer","children","styles","modal","isOpen","defaultProps","returnFocusOnClose","scrollBehavior","trapFocus","autoFocus","blockScrollOnMount","allowPinchZoom","__DEV__","displayName","ModalContent","ref","className","otherProps","getContentProps","content","_className","display","flexDirection","position","width","outline","ModalOverlay","rest","getOverlayProps","dialogRef","initialFocusRef","finalFocusRef","overlay","height","left","top","ModalHeader","headerId","setHeaderMounted","flex","header","ModalBody","bodyId","setBodyMounted","body","ModalFooter","alignItems","justifyContent","footer","ModalCloseButton","onClick","onClose","event","stopPropagation"],"mappings":"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","sourcesContent":["import { CloseButton, CloseButtonProps } from \"@chakra-ui/close-button\"\nimport { FocusLock } from \"@chakra-ui/focus-lock\"\nimport { Portal, PortalProps } from \"@chakra-ui/portal\"\nimport {\n  chakra,\n  forwardRef,\n  PropsOf,\n  ThemingProps,\n  useMultiStyleConfig,\n  StylesProvider,\n  useStyles,\n} from \"@chakra-ui/system\"\nimport { callAllHandlers, cx, __DEV__ } from \"@chakra-ui/utils\"\nimport React, { ReactNode, useEffect } from \"react\"\nimport { RemoveScroll } from \"react-remove-scroll\"\nimport { ModalContextProvider, useModalContext } from \"./context\"\nimport { useModal, UseModalProps } from \"./use-modal\"\n\nexport interface ModalProps extends UseModalProps, ThemingProps {\n  children?: ReactNode\n  /**\n   *  If `true`, the modal will be centered on screen.\n   * @default false\n   */\n  isCentered?: boolean\n  /**\n   * Where scroll behaviour should originate.\n   * - If set to `inside`, scroll only occurs within the `ModalBody`.\n   * - If set to `outside`, the entire `ModalContent` will scroll within the viewport.\n   *\n   * @default \"outside\"\n   */\n  scrollBehavior?: \"inside\" | \"outside\"\n\n  /**\n   * Function that will be called to get the parent element\n   * that the modal will be attached to.\n   */\n  getContainer?: PortalProps[\"getContainer\"]\n}\n\n/**\n * Modal\n *\n * React component that provides context, theming, and accessbility properties\n * to all other modal components.\n *\n * It doesn't render any DOM node.\n */\nexport const Modal: React.FC<ModalProps> = (props) => {\n  const { getContainer, children } = props\n\n  const styles = useMultiStyleConfig(\"Modal\", props)\n  const modal = useModal(props)\n\n  if (!modal.isOpen) return null\n\n  return (\n    <ModalContextProvider value={modal}>\n      <Portal getContainer={getContainer}>\n        <StylesProvider value={styles}>{children}</StylesProvider>\n      </Portal>\n    </ModalContextProvider>\n  )\n}\n\nModal.defaultProps = {\n  returnFocusOnClose: true,\n  scrollBehavior: \"outside\",\n  trapFocus: true,\n  autoFocus: true,\n  blockScrollOnMount: true,\n  allowPinchZoom: false,\n}\n\nif (__DEV__) {\n  Modal.displayName = \"Modal\"\n}\n\nexport interface ModalContentProps extends PropsOf<typeof chakra.section> {}\n\n/**\n * ModalContent\n *\n * React component used to group modal's content. It has all the\n * necessary `aria-*` properties to indicate that it's a modal modal\n */\nexport const ModalContent = forwardRef<ModalContentProps, \"section\">(\n  function ModalContent(props, ref) {\n    const { className, children, ...otherProps } = props\n\n    const { getContentProps } = useModalContext()\n\n    const content = getContentProps(otherProps, ref)\n    const _className = cx(\"chakra-modal__content\", className)\n\n    const styles = useStyles()\n\n    return (\n      <chakra.section\n        className={_className}\n        {...content}\n        __css={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          position: \"relative\",\n          width: \"100%\",\n          outline: 0,\n          ...styles.content,\n        }}\n      >\n        {children}\n      </chakra.section>\n    )\n  },\n)\n\nif (__DEV__) {\n  ModalContent.displayName = \"ModalContent\"\n}\n\nexport interface ModalOverlayProps extends PropsOf<typeof chakra.div> {}\n\n/**\n * ModalOverlay\n *\n * React component that renders a backdrop behind the modal. It's\n * also used as a wrapper for the modal content for better positioning.\n *\n * @see Docs https://chakra-ui.com/components/modal\n */\nexport const ModalOverlay = forwardRef<ModalOverlayProps, \"div\">(\n  function ModalOverlay(props, ref) {\n    const { className, children, ...rest } = props\n\n    const {\n      getOverlayProps,\n      autoFocus,\n      trapFocus,\n      dialogRef,\n      initialFocusRef,\n      blockScrollOnMount,\n      allowPinchZoom,\n      finalFocusRef,\n      returnFocusOnClose,\n    } = useModalContext()\n\n    const overlay = getOverlayProps(rest, ref)\n    const _className = cx(\"chakra-modal__overlay\", className)\n\n    const styles = useStyles()\n\n    return (\n      <FocusLock\n        autoFocus={autoFocus}\n        isDisabled={!trapFocus}\n        initialFocusRef={initialFocusRef}\n        finalFocusRef={finalFocusRef}\n        restoreFocus={returnFocusOnClose}\n        contentRef={dialogRef}\n      >\n        <RemoveScroll\n          allowPinchZoom={allowPinchZoom}\n          enabled={blockScrollOnMount}\n        >\n          <chakra.div\n            {...overlay}\n            className={_className}\n            __css={{\n              width: \"100vw\",\n              height: \"100vh\",\n              position: \"fixed\",\n              left: 0,\n              top: 0,\n              ...styles.overlay,\n            }}\n          >\n            {children}\n          </chakra.div>\n        </RemoveScroll>\n      </FocusLock>\n    )\n  },\n)\n\nif (__DEV__) {\n  ModalOverlay.displayName = \"ModalOverlay\"\n}\n\nexport interface ModalHeaderProps extends PropsOf<typeof chakra.header> {}\n\n/**\n * ModalHeader\n *\n * React component that houses the title of the modal.\n *\n * @see Docs https://chakra-ui.com/components/modal\n */\nexport const ModalHeader = forwardRef<ModalHeaderProps, \"header\">(\n  function ModalHeader(props, ref) {\n    const { className, ...rest } = props\n\n    const { headerId, setHeaderMounted } = useModalContext()\n\n    /**\n     * Notify us if this component was rendered or used\n     * so we can append `aria-labelledby` automatically\n     */\n    useEffect(() => {\n      setHeaderMounted(true)\n      return () => setHeaderMounted(false)\n    }, [setHeaderMounted])\n\n    const _className = cx(\"chakra-modal__header\", className)\n    const styles = useStyles()\n\n    return (\n      <chakra.header\n        ref={ref}\n        className={_className}\n        id={headerId}\n        {...rest}\n        __css={{\n          flex: 0,\n          ...styles.header,\n        }}\n      />\n    )\n  },\n)\n\nif (__DEV__) {\n  ModalHeader.displayName = \"ModalHeader\"\n}\n\nexport interface ModalBodyProps extends PropsOf<typeof chakra.div> {}\n\n/**\n * ModalBody\n *\n * React component that houses the main content of the modal.\n *\n * @see Docs https://chakra-ui.com/components/modal\n */\nexport const ModalBody = forwardRef<ModalBodyProps, \"div\">(function ModalBody(\n  props,\n  ref,\n) {\n  const { className, ...rest } = props\n  const { bodyId, setBodyMounted } = useModalContext()\n\n  /**\n   * Notify us if this component was rendered or used\n   * so we can append `aria-describedby` automatically\n   */\n  useEffect(() => {\n    setBodyMounted(true)\n    return () => setBodyMounted(false)\n  }, [setBodyMounted])\n\n  const _className = cx(\"chakra-modal__body\", className)\n  const styles = useStyles()\n\n  return (\n    <chakra.div\n      ref={ref}\n      className={_className}\n      id={bodyId}\n      {...rest}\n      __css={styles.body}\n    />\n  )\n})\n\nif (__DEV__) {\n  ModalBody.displayName = \"ModalBody\"\n}\n\n/**\n * ModalFooter\n *\n * React component that houses the action buttons of the modal.\n *\n * @see Docs https://chakra-ui.com/components/modal\n */\nexport const ModalFooter: React.FC<PropsOf<typeof chakra.footer>> = (props) => {\n  const styles = useStyles()\n  return (\n    <chakra.footer\n      {...props}\n      __css={{\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-end\",\n        flex: 0,\n        ...styles.footer,\n      }}\n      className={cx(\"chakra-modal__footer\", props.className)}\n    />\n  )\n}\n\nif (__DEV__) {\n  ModalFooter.displayName = \"ModalFooter\"\n}\n\n/**\n * ModalCloseButton\n *\n * React component used closes the modal. You don't need\n * to pass the `onClick` to it, it's reads the `onClose` action from the\n * modal context.\n */\nexport const ModalCloseButton = forwardRef<CloseButtonProps, \"button\">(\n  function ModalCloseButton(props, ref) {\n    const { onClick, className, ...rest } = props\n    const { onClose } = useModalContext()\n\n    const _className = cx(\"chakra-modal__close-btn\", className)\n\n    return (\n      <CloseButton\n        ref={ref}\n        position=\"absolute\"\n        top=\"8px\"\n        right=\"12px\"\n        className={_className}\n        onClick={callAllHandlers(onClick, (event) => {\n          event.stopPropagation()\n          onClose()\n        })}\n        {...rest}\n      />\n    )\n  },\n)\n\nif (__DEV__) {\n  ModalCloseButton.displayName = \"ModalCloseButton\"\n}\n"],"file":"modal.js"}