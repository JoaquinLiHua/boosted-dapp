{"version":3,"sources":["../../src/avatar-group.tsx"],"names":["AvatarGroup","props","ref","styles","children","borderColor","max","spacing","rest","validChildren","childrenWithinMax","slice","excess","length","reversedChildren","reverse","clones","map","child","index","isFirstAvatar","mr","size","showBorder","groupStyles","display","alignItems","justifyContent","flexDirection","excessStyles","borderRadius","ml","baseStyle","excessLabel","className","__DEV__","displayName"],"mappings":";;;;;AAAA;;AASA;;AACA;;AACA;;;;;;;;;;AAwBA;;;AAGO,IAAMA,WAAW,gBAAG,wBACzB,SAASA,WAAT,CAAqBC,KAArB,EAA4BC,GAA5B,EAAiC;AAC/B,MAAMC,MAAM,GAAG,iCAAoB,QAApB,EAA8BF,KAA9B,CAAf;;AAD+B,0BAS3B,8BAAiBA,KAAjB,CAT2B;AAAA,MAI7BG,QAJ6B,qBAI7BA,QAJ6B;AAAA,MAK7BC,WAL6B,qBAK7BA,WAL6B;AAAA,MAM7BC,GAN6B,qBAM7BA,GAN6B;AAAA,gDAO7BC,OAP6B;AAAA,MAO7BA,OAP6B,sCAOnB,UAPmB;AAAA,MAQ1BC,IAR0B;;AAW/B,MAAMC,aAAa,GAAG,6BAAiBL,QAAjB,CAAtB;AAEA;;;;AAGA,MAAMM,iBAAiB,GAAGJ,GAAG,GAAGG,aAAa,CAACE,KAAd,CAAoB,CAApB,EAAuBL,GAAvB,CAAH,GAAiCG,aAA9D;AAEA;;;;AAGA,MAAMG,MAAM,GAAGN,GAAG,IAAI,IAAP,IAAeG,aAAa,CAACI,MAAd,GAAuBP,GAArD;AAEA;;;;;AAIA,MAAMQ,gBAAgB,GAAGJ,iBAAiB,CAACK,OAAlB,EAAzB;AAEA,MAAMC,MAAM,GAAGF,gBAAgB,CAACG,GAAjB,CAAqB,UAACC,KAAD,EAAQC,KAAR,EAAkB;AACpD,QAAMC,aAAa,GAAGD,KAAK,KAAK,CAAhC;AAEA,wBAAO,yBAAaD,KAAb,EAAoB;AACzBG,MAAAA,EAAE,EAAED,aAAa,GAAG,CAAH,GAAOb,OADC;AAEzBe,MAAAA,IAAI,EAAErB,KAAK,CAACqB,IAFa;AAGzBjB,MAAAA,WAAW,EAAEa,KAAK,CAACjB,KAAN,CAAYI,WAAZ,IAA2BA,WAHf;AAIzBkB,MAAAA,UAAU,EAAE;AAJa,KAApB,CAAP;AAMD,GATc,CAAf;AAWA,MAAMC,WAAW,GAAG;AAClBC,IAAAA,OAAO,EAAE,MADS;AAElBC,IAAAA,UAAU,EAAE,QAFM;AAGlBC,IAAAA,cAAc,EAAE,UAHE;AAIlBC,IAAAA,aAAa,EAAE;AAJG,GAApB;;AAOA,MAAMC,YAAY;AAChBC,IAAAA,YAAY,EAAE,MADE;AAEhBC,IAAAA,EAAE,EAAExB;AAFY,KAGbyB,iBAHa,EAIb7B,MAAM,CAAC8B,WAJM,CAAlB;;AAOA,sBACE,gCAAC,cAAD,CAAQ,GAAR;AACE,IAAA,GAAG,EAAE/B,GADP;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,KAAK,EAAEsB;AAHT,KAIMhB,IAJN;AAKE,IAAA,SAAS,EAAE,eAAG,sBAAH,EAA2BP,KAAK,CAACiC,SAAjC;AALb,MAOGtB,MAAM,iBACL,gCAAC,cAAD,CAAQ,IAAR;AACE,IAAA,SAAS,EAAC,uBADZ;AAEE,IAAA,KAAK,EAAEiB,YAFT;AAGE,IAAA,QAAQ,QAAMjB;AAHhB,IARJ,EAcGI,MAdH,CADF;AAkBD,CAzEwB,CAApB;;;AA4EP,IAAImB,cAAJ,EAAa;AACXnC,EAAAA,WAAW,CAACoC,WAAZ,GAA0B,aAA1B;AACD","sourcesContent":["import {\n  chakra,\n  PropsOf,\n  SystemProps,\n  ThemingProps,\n  useMultiStyleConfig,\n  omitThemingProps,\n  forwardRef,\n} from \"@chakra-ui/system\"\nimport { getValidChildren, __DEV__, cx } from \"@chakra-ui/utils\"\nimport React, { ReactNode, cloneElement } from \"react\"\nimport { baseStyle } from \"./avatar\"\n\ninterface AvatarGroupOptions {\n  /**\n   * The children of the avatar group.\n   *\n   * Ideally should be `Avatar` and `MoreIndicator` components\n   */\n  children: ReactNode\n  /**\n   * The space between the avatars in the group.\n   */\n  spacing?: SystemProps[\"margin\"]\n  /**\n   * The maximum number of visible avatars\n   */\n  max?: number\n}\n\nexport interface AvatarGroupProps\n  extends AvatarGroupOptions,\n    Omit<PropsOf<typeof chakra.div>, \"children\">,\n    ThemingProps {}\n\n/**\n * AvatarGroup displays a number of avatars grouped together in a stack.\n */\nexport const AvatarGroup = forwardRef<AvatarGroupProps, \"div\">(\n  function AvatarGroup(props, ref) {\n    const styles = useMultiStyleConfig(\"Avatar\", props)\n\n    const {\n      children,\n      borderColor,\n      max,\n      spacing = \"-0.75rem\",\n      ...rest\n    } = omitThemingProps(props)\n\n    const validChildren = getValidChildren(children)\n\n    /**\n     * get the avatars within the max\n     */\n    const childrenWithinMax = max ? validChildren.slice(0, max) : validChildren\n\n    /**\n     * get the remaining avatar count\n     */\n    const excess = max != null && validChildren.length - max\n\n    /**\n     * Reversing the children is a great way to avoid using zIndex\n     * to overlap the avatars\n     */\n    const reversedChildren = childrenWithinMax.reverse()\n\n    const clones = reversedChildren.map((child, index) => {\n      const isFirstAvatar = index === 0\n\n      return cloneElement(child, {\n        mr: isFirstAvatar ? 0 : spacing,\n        size: props.size,\n        borderColor: child.props.borderColor || borderColor,\n        showBorder: true,\n      })\n    })\n\n    const groupStyles = {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"flex-end\",\n      flexDirection: \"row-reverse\",\n    }\n\n    const excessStyles = {\n      borderRadius: \"full\",\n      ml: spacing,\n      ...baseStyle,\n      ...styles.excessLabel,\n    }\n\n    return (\n      <chakra.div\n        ref={ref}\n        role=\"group\"\n        __css={groupStyles}\n        {...rest}\n        className={cx(\"chakra-avatar__group\", props.className)}\n      >\n        {excess && (\n          <chakra.span\n            className=\"chakra-avatar__excess\"\n            __css={excessStyles}\n            children={`+${excess}`}\n          />\n        )}\n        {clones}\n      </chakra.div>\n    )\n  },\n)\n\nif (__DEV__) {\n  AvatarGroup.displayName = \"AvatarGroup\"\n}\n"],"file":"avatar-group.js"}