{"version":3,"sources":["../../src/use-disclosure.ts"],"names":["React","useControllableProp","useId","callAllHandlers","useDisclosure","props","onClose","onCloseProp","onOpen","onOpenProp","isOpen","isOpenProp","id","idProp","isOpenState","setIsOpen","useState","defaultIsOpen","isControlled","useCallback","onToggle","action","getButtonProps","onClick","getDisclosureProps","hidden"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,mBAAT,QAAoC,oBAApC;AACA,SAASC,KAAT,QAAsB,UAAtB;AACA,SAASC,eAAT,QAAgC,kBAAhC;AAUA,OAAO,SAASC,aAAT,CAAuBC,KAAvB,EAAuD;AAAA,MAAhCA,KAAgC;AAAhCA,IAAAA,KAAgC,GAAJ,EAAI;AAAA;;AAC5D,MAAM;AACJC,IAAAA,OAAO,EAAEC,WADL;AAEJC,IAAAA,MAAM,EAAEC,UAFJ;AAGJC,IAAAA,MAAM,EAAEC,UAHJ;AAIJC,IAAAA,EAAE,EAAEC;AAJA,MAKFR,KALJ;AAOA,MAAM,CAACS,WAAD,EAAcC,SAAd,IAA2Bf,KAAK,CAACgB,QAAN,CAAeX,KAAK,CAACY,aAAN,IAAuB,KAAtC,CAAjC;AACA,MAAM,CAACC,YAAD,EAAeR,MAAf,IAAyBT,mBAAmB,CAACU,UAAD,EAAaG,WAAb,CAAlD;AAEA,MAAMF,EAAE,GAAGV,KAAK,CAACW,MAAD,EAAS,YAAT,CAAhB;AAEA,MAAMP,OAAO,GAAGN,KAAK,CAACmB,WAAN,CAAkB,MAAM;AACtC,QAAI,CAACD,YAAL,EAAmB;AACjBH,MAAAA,SAAS,CAAC,KAAD,CAAT;AACD;;AACDR,IAAAA,WAAW,QAAX,YAAAA,WAAW;AACZ,GALe,EAKb,CAACW,YAAD,EAAeX,WAAf,CALa,CAAhB;AAOA,MAAMC,MAAM,GAAGR,KAAK,CAACmB,WAAN,CAAkB,MAAM;AACrC,QAAI,CAACD,YAAL,EAAmB;AACjBH,MAAAA,SAAS,CAAC,IAAD,CAAT;AACD;;AACDN,IAAAA,UAAU,QAAV,YAAAA,UAAU;AACX,GALc,EAKZ,CAACS,YAAD,EAAeT,UAAf,CALY,CAAf;AAOA,MAAMW,QAAQ,GAAGpB,KAAK,CAACmB,WAAN,CAAkB,MAAM;AACvC,QAAME,MAAM,GAAGX,MAAM,GAAGJ,OAAH,GAAaE,MAAlC;AACAa,IAAAA,MAAM;AACP,GAHgB,EAGd,CAACX,MAAD,EAASF,MAAT,EAAiBF,OAAjB,CAHc,CAAjB;AAKA,SAAO;AACLI,IAAAA,MAAM,EAAE,CAAC,CAACA,MADL;AAELF,IAAAA,MAFK;AAGLF,IAAAA,OAHK;AAILc,IAAAA,QAJK;AAKLF,IAAAA,YALK;AAMLI,IAAAA,cAAc,EAAE,wBAACjB,KAAD;AAAA,UAACA,KAAD;AAACA,QAAAA,KAAD,GAAc,EAAd;AAAA;;AAAA,0BACXA,KADW;AAEd,yBAAiB,MAFH;AAGd,yBAAiBO,EAHH;AAIdW,QAAAA,OAAO,EAAEpB,eAAe,CAACE,KAAK,CAACkB,OAAP,EAAgBH,QAAhB;AAJV;AAAA,KANX;AAYLI,IAAAA,kBAAkB,EAAE,4BAACnB,KAAD;AAAA,UAACA,KAAD;AAACA,QAAAA,KAAD,GAAc,EAAd;AAAA;;AAAA,0BACfA,KADe;AAElBoB,QAAAA,MAAM,EAAE,CAACf,MAFS;AAGlBE,QAAAA;AAHkB;AAAA;AAZf,GAAP;AAkBD","sourcesContent":["import * as React from \"react\"\nimport { useControllableProp } from \"./use-controllable\"\nimport { useId } from \"./use-id\"\nimport { callAllHandlers } from \"@chakra-ui/utils\"\n\nexport interface UseDisclosureProps {\n  isOpen?: boolean\n  defaultIsOpen?: boolean\n  onClose?(): void\n  onOpen?(): void\n  id?: string\n}\n\nexport function useDisclosure(props: UseDisclosureProps = {}) {\n  const {\n    onClose: onCloseProp,\n    onOpen: onOpenProp,\n    isOpen: isOpenProp,\n    id: idProp,\n  } = props\n\n  const [isOpenState, setIsOpen] = React.useState(props.defaultIsOpen || false)\n  const [isControlled, isOpen] = useControllableProp(isOpenProp, isOpenState)\n\n  const id = useId(idProp, \"disclosure\")\n\n  const onClose = React.useCallback(() => {\n    if (!isControlled) {\n      setIsOpen(false)\n    }\n    onCloseProp?.()\n  }, [isControlled, onCloseProp])\n\n  const onOpen = React.useCallback(() => {\n    if (!isControlled) {\n      setIsOpen(true)\n    }\n    onOpenProp?.()\n  }, [isControlled, onOpenProp])\n\n  const onToggle = React.useCallback(() => {\n    const action = isOpen ? onClose : onOpen\n    action()\n  }, [isOpen, onOpen, onClose])\n\n  return {\n    isOpen: !!isOpen,\n    onOpen,\n    onClose,\n    onToggle,\n    isControlled,\n    getButtonProps: (props: any = {}) => ({\n      ...props,\n      \"aria-expanded\": \"true\",\n      \"aria-controls\": id,\n      onClick: callAllHandlers(props.onClick, onToggle),\n    }),\n    getDisclosureProps: (props: any = {}) => ({\n      ...props,\n      hidden: !isOpen,\n      id,\n    }),\n  }\n}\n\nexport type UseDisclosureReturn = ReturnType<typeof useDisclosure>\n"],"file":"use-disclosure.js"}